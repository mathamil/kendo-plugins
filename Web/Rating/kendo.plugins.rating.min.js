!function(kendo,$){var ui=kendo.ui,Widget=ui.Widget,CLICK="click",CHANGE="change",SELECT="select",ACTIVATE="activate",MOUSELEAVE="mouseleave",MOUSEOVER="mouseover",DISABLED="k-state-disabled",RATING_NS=".kendoRating",Rating=Widget.extend({init:function(element,options){var that=this;Widget.fn.init.call(this,element,options);var wrapper=this.element.wrap("<div class='k-rating'/>").parent().attr("style",this.element.attr("style"));this.element.css("display","none");for(var i=1;i<=this.options.maxRating;i++)$('<span class="k-rating-empty" />').attr("data-value",i).addClass(this.options.itemClass).addClass(this.options.emptyClass).appendTo(wrapper);if(wrapper.on(MOUSEOVER+RATING_NS,"span",$.proxy(this._mouseover,this)).on(MOUSELEAVE+RATING_NS,$.proxy(this._mouseleave,this)).on(CLICK+RATING_NS,"span",$.proxy(this._select,this)),null!=this.options.value)this.value(this.options.value);else{var elementValue=parseInt(this.element.val());isNaN(elementValue)||this.value(elementValue)}this.enabled(this.options.enabled)},options:{name:"Rating",minRating:1,maxRating:5,itemClass:"k-rating-item",selectedClass:"k-rating-star",emptyClass:"k-rating-empty",value:null,enabled:!0},events:[MOUSEOVER,MOUSELEAVE,SELECT,CHANGE],value:function(value){var that=this;if(void 0===value){var elementValue=parseInt(this.element.val());return isNaN(elementValue)?null:elementValue}null!==value&&(isNaN(value)&&(value=parseInt(value)),value<this.options.minRating&&(value=this.options.minRating),value>this.options.maxRating&&(value=this.options.maxRating)),this.element.val(value),this._render(value)},enabled:function(enabled){var that=this;void 0===enabled&&(enabled=!0),enabled?this.element.parent().removeClass("k-rating-disabled"):this.element.parent().addClass("k-rating-disabled"),this._enabled=enabled},_mouseover:function(e){var that=this,star=$(e.currentTarget),value=star.data("value");this._enabled&&(this._render(value),this.trigger(MOUSEOVER,{value:value,item:star}))},_mouseleave:function(){var that=this;this._readonly||(this._render(this.value()),this.trigger(MOUSELEAVE))},_select:function(e){var that=this,star=$(e.currentTarget),value=star.data("value");this._readonly||(this.value(value),this.trigger(SELECT,{value:value,item:star}),this.trigger(CHANGE))},_render:function(value){var that=this,options=this.options,wrapper=this.element.parent(),star=wrapper.find('span[data-value="'+value+'"]');null==value||0===star.length?wrapper.find("span").removeClass(options.selectedClass).addClass(options.emptyClass):(star.prevAll("span").removeClass(options.emptyClass).addClass(options.selectedClass),star.removeClass(options.emptyClass).addClass(options.selectedClass),star.nextAll("span").addClass(options.emptyClass).removeClass(options.selectedClass))},destroy:function(){var that=this;this.element.off(RATING_NS),Widget.fn.destroy.call(this)}});ui.plugin(Rating)}(window.kendo,window.kendo.jQuery);